## 專案概述
本專案是一個門牌與建物型態分析系統，主要用於上傳DXF格式的計劃範圍線，分析範圍內的門牌數量及建物型態資訊，幫助使用者初步掌握計劃區域內的狀況。

## 功能特色
- **文件上傳**：使用者可以上傳DXF格式的計劃範圍線文件。
- **地區選擇**：提供地區選項，使用者可以選擇特定的地區進行分析。
- **空間分析**：對DXF文件和CSV文件進行空間交集分析，計算透天、公寓和大樓的戶數與棟數。
- **結果展示**：將分析結果以表格形式展示，並提供下載包含分析結果的DXF文件。

## 安裝與使用

### 環境要求
本專案使用Python開發，需要安裝以下依賴庫：
```plaintext
numpy==1.24.3
pandas==1.5.3
geopandas==1.0.1
ezdxf==0.17.2
shapely==2.0.1
Flask==3.0.3
scipy==1.14.1
Rtree==1.3.0
```

### 安裝步驟
1. **克隆專案**：
   ```bash
   git clone <專案倉庫地址>
   cd gis-PJ
   ```
2. **創建虛擬環境（推薦）**：
   ```bash
   python -m venv venv
   source venv/bin/activate  # 對於Windows用戶，使用 `venv\Scripts\activate`
   ```
3. **安裝依賴**：
   ```bash
   pip install -r requirements.txt
   ```

### 使用方法
1. **啟動服務**：
   在專案根目錄下運行以下命令啟動Flask服務：
   ```bash
   flask run
   ```
2. **打開網頁**：
   在瀏覽器中打開 `http://127.0.0.1:5000`，即可看到系統的首頁。
3. **上傳文件**：
   - 選擇DXF文件：點擊“選擇DXF文件”按鈕，選擇需要分析的DXF文件。
   - 選擇地區：從下拉菜單中選擇需要分析的地區。
   - 上傳並分析：點擊“上傳並分析”按鈕，等待分析結果。

## 專案結構
```plaintext
gis-PJ/
├── main.py         # 主程序文件，包含路由和分析函數
├── templates/      # HTML模板文件夾
│   ├── index.html  # 首頁模板
│   └── result.html # 結果頁面模板
└── requirements.txt # 依賴庫列表
```

## 注意事項
- DXF文件僅需包含“計劃範圍線”即可。
- 座標系統僅針對TWD97使用。
